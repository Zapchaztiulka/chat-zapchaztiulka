import{u as P,b as C,r as a,a as x,c as F,j as e,C as $,M as n,B as k,t as b,A as L,F as S,P as I}from"./index-9a15f46c.js";import{B as M}from"./Button-6cd39ab5.js";const A=t=>t.orderDetails.orders,E=t=>t.orderDetails.isLoading,G=({isTablet:t})=>{const i=P(),u=C(),[r,p]=a.useState(null),[h,f]=a.useState(null),[Q,m]=a.useState(!1),s=x(A),c=x(E);return a.useEffect(()=>{r&&i(F(r))},[i,r]),e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsxs("section",{className:`flex flex-col gap-sPlus 
          ${t?"max-h-[70vh] py-sPlus":"max-h-[400px] py-s"}
           message-container`,children:[e.jsx(n,{type:"text",text:"Для отримання деталей Ваших замовлень надайте будь-ласка номер телефону, на який були здійснені замовлення (у форматі 067...)",time:"hidden"}),r&&e.jsx(n,{owner:"Ви",type:"text",text:r}),c&&e.jsx(k,{height:16,width:32,radius:8,color:b.colors.bgGreyDark}),s&&(s==null?void 0:s.length)>0&&!c&&e.jsxs(e.Fragment,{children:[e.jsx(n,{type:"text",text:"Ваші замовлення:"}),e.jsx("div",{className:"flex flex-col gap-xs text-textPrimary text-body",children:s==null?void 0:s.map(d=>{const{_id:o,status:j,products:g,totalPrice:y}=d,l=o===h;return e.jsxs("div",{children:[e.jsxs("button",{className:"flex items-center justify-between w-full p-xs bg-bgBrandLight1 text-left",onClick:()=>f(l?null:o),children:[e.jsxs("div",{className:"flex flex-col gap-xs3",children:[e.jsx("p",{children:`№ замовлення: ${o.slice(18,24)}.`}),e.jsx("p",{children:`Статус: "${j}"`})]}),e.jsx("div",{className:`${l?"rotate-0":"rotate-180"}`,children:e.jsx(L,{colorFill:b.colors.iconBrand})})]}),l&&e.jsxs("div",{className:"fade-in flex flex-col items-start py-xs gap-xs2",children:[e.jsxs("table",{className:"w-full border-collapse font-500 text-caption",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-bgGreyLigth justify-center",children:[e.jsx("th",{className:"border-1 border-solid border-borderDefault p-xs2",children:"Найменування"}),e.jsx("th",{className:"border-1 border-solid border-borderDefault p-xs2",children:"Кількість"}),e.jsx("th",{className:"border-1 border-solid border-borderDefault p-xs2",children:"Ціна"})]})}),e.jsxs("tbody",{className:" font-400 text-[10px] text-textSecondary",children:[g.map((D,N)=>{const{name:v,quantity:w,units:B,price:O}=D;return e.jsxs("tr",{children:[e.jsx("td",{className:"border-1 border-solid border-borderDefault p-xs3",style:{wordBreak:"break-word"},children:v}),e.jsx("td",{className:"border-1 border-solid border-borderDefault p-xs3 text-center",children:`${w} ${B}`}),e.jsx("td",{className:"border-1 border-solid border-borderDefault p-xs3 text-center",children:O})]},N)}),e.jsxs("tr",{className:"text-[12px] font-500",children:[e.jsx("td",{colSpan:"2",className:"border-1 border-solid border-borderDefault p-xs3 text-left",children:"Загальна сума:"}),e.jsx("td",{className:"border-1 border-solid border-borderDefault p-xs3 text-center",children:y})]})]})]}),e.jsxs("div",{className:"flex gap-xs px-xs justify-center items-center fade-in",children:[e.jsx("p",{className:"text-caption text-textBrand",children:"З'явилися запитання?"}),e.jsx("button",{className:`p-xs2 text-caption font-500 text-textBrand border-solid border-1\r
                             border-borderDefaultBlue bg-bgWhite hover:bg-bgHoverGrey focus:shadow-btFocus \r
                             rounded-medium transition-colors duration-300 focus:outline-none whitespace-nowrap`,onClick:()=>u("/chat"),children:"З'єднати з менеджером"})]})]})]},o)})})]}),(s==null?void 0:s.length)>0&&e.jsx(M,{buttonType:"desctructive",className:`font-500 rounded-medium flex justify-center items-center gap-xs2 transition-colors
                       duration-300 focus:outline-none min-w-[150px] text-textContrast bg-bgDefaultDestructive
                       py-xs leading-6 hover:bg-bgHoverDestructive focus:bg-bgDefaultDestructive 
                       focus:shadow-btFocus disabled:border-solid  disabled:border-1 disabled:border-borderDisabled
                     active:bg-bgPressedDestructive h-[48px] ${t?"px-m":"px-s"}`,text:"Надіслати на e-mail",onClick:()=>m(!0)})]})}),e.jsx(S,{isActiveMenu:!0,isTablet:t,handleUserQuery:d=>p(d)})]})};G.propTypes={isTablet:I.bool.isRequired};export{G as default};
